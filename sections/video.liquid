<link rel="stylesheet" href="{{ 'section-video.css' | asset_url }}">

<div class="o-container -medium -narrow">
  <h2 class="section_title">{{ section.settings.title }}</h2>
  <p class="section_description">{{ section.settings.description }}</p>

  <div class="video_wrapper">
    <div class="video" id="video-placeholder">
      <button id="play-video" class="video-button">
        <img src="{{ section.settings.image | image_url: width: 600 }}" loading="lazy" alt="Play video" width="600" height="400">
        <i class="fas fa-play"></i>
      </button>
    </div>
  </div>
</div>

<script defer>
  document.addEventListener("DOMContentLoaded", function () {
    let button = document.getElementById("play-video");
    let placeholder = document.getElementById("video-placeholder");

    button.addEventListener("click", function () {
      placeholder.innerHTML = `{{ section.settings.video_frame }}`;
    });
  });
</script>

{% schema %}
{
  "name": "Video",
  "tag": "section",
  "class": "section--video",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description"
    },
    {
      "type": "html",
      "id": "video_frame",
      "label": "Video Frame",
      "info": "Insert the embed iframe of the YouTube video"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Placeholder Image"
    },
  ],
  "presets": [
    {
      "name": "Video"
    }
  ]
}
{% endschema %}
